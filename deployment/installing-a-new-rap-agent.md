---
description: Getting a new Agent installed to connect to a new on-premise data source.
---

# !! Installing a New RAP Agent \(On Premise\)

TODO - write an intro \(all data ingested through RAP flows through a RAP Agent, one is installed out of the box in the cloud environment, additional required on-premise\)

## Prerequisites

Prior to installing the RAP Agent, the following requirements must be met.  Please ensure that the machine hosting the RAP Agent meets the requirements prior to installation.

* The machine or VM must be running one of the following 2 operating systems:
  * Windows 7 / Server 2008 R2 or later
  * Red Hat 6 or later \(or compatible distribution\)
* The latest version of the Amazon Corretto JDK 8 should preferably be installed on the destination machine.  Alternatively, if Oracle JDK 8 is already installed, that will be sufficient as well.  If neither is installed on the destination machine, navigate to the site linked [here](https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html) and download and install the Corretto JDK that is compatible with the target architecture and OS of the machine that the Agent will be installed on.
* Since the RAP Agent initiates all its own connections, outbound connections to various cloud resources on the public Internet are required.  If a firewall is limiting outbound internet access, the following resources should be allowed through the firewall \(exact domain names will vary by environment\).  Note that these are all secure endpoints, so if SSL inspection is enabled at the firewall, special consideration is needed to ensure that the certificate presented to the machine hosting the RAP Agent is trusted.
  * AWS S3 / Azure Data Lake Storage via HTTPS \(port 443\) for the following locations
    * Landing area
    * RAP Agent update area
  * RAP API endpoint via HTTPS \(port 443\)
  * Auth0 via HTTPS \(port 443\)
* File and database sources that will be accessed through the RAP Agent must be accessible from the machine the RAP Agent is being installed on.  In the case of database sources, many customers install the RAP Agent software directly on the database server.  However, network connectivity from the machine that the Agent software is being installed on is all that is required.  Note that the RAP Agent will be performing data pulls and uploading to AWS / Azure, so the recommendation is to not segment off the Agent machine from the sources being accessed in a way that traffic needs to cross a limited capacity network segment to reach those sources.
* The user account intended for RAP on source databases need to be set up with native database engine authentication.  In the case of SQL Server, Windows / Azure AD authentication is not supported for the RAP user and only SQL Server authentication can be used.
  * Mixed-mode authentication can still be enabled to allow for integrated authentication for non-RAP related loads.

## Setting up a New Agent Configuration

Prior to installing an Agent, a new record must be added to the meta.agent table in the Postgres Metastore. The record will denote the Agent code and the contain

NOTE: In a future release, this process will be able to be done strictly from the UI

TODO - show where this is done in UI \(new process\)

!! What is the step by step. 



## Obtaining the RAP Agent

The RAP Agent installation build contains information about which environment to connect to, as well as is authorized to connect to only the specific environment it is configured for.  Therefore, the correct build must be generated by the RAP development team.  They will provide the link to use for the build needed.

## !! Installing the RAP Agent \(Windows\)

TODO - copy/paste from existing [Word doc](https://westmonroepartners1.sharepoint.com/sites/DDPA/0063900000stpZHAAY/Docs/Forms/AllItems.aspx?FolderCTID=0x0120001A877AC2A8D0754C894745F7F2227E37&id=%2Fsites%2FDDPA%2F0063900000stpZHAAY%2FDocs%2FImplementation%2FTechnical%20Documentation%2F3%20-%20RAP%2FRAP%20Agent%20Installation%2FRAP%20Agent%20Install%20Guide%20for%20Windows%2Epdf&parent=%2Fsites%2FDDPA%2F0063900000stpZHAAY%2FDocs%2FImplementation%2FTechnical%20Documentation%2F3%20-%20RAP%2FRAP%20Agent%20Installation)? 

System Requirements

Installation



## !! Installing the RAP Agent \(Linux\)

TODO - copy/paste from existing [Word doc](https://westmonroepartners1.sharepoint.com/sites/DDPA/0063900000stpZHAAY/Docs/Forms/AllItems.aspx?FolderCTID=0x0120001A877AC2A8D0754C894745F7F2227E37&id=%2Fsites%2FDDPA%2F0063900000stpZHAAY%2FDocs%2FImplementation%2FTechnical%20Documentation%2F3%20-%20RAP%2FRAP%20Agent%20Installation%2FRAP%20Agent%20Install%20Guide%20for%20Red%20Hat%206%2E10%2Epdf&parent=%2Fsites%2FDDPA%2F0063900000stpZHAAY%2FDocs%2FImplementation%2FTechnical%20Documentation%2F3%20-%20RAP%2FRAP%20Agent%20Installation)?

