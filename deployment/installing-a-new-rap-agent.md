---
description: Getting a new Agent installed to connect to a new on-premise data source.
---

# Installing a New RAP Agent

TODO - write an intro

### Prerequisites

Prior to installing the RAP Agent, the following requirements must be met.  Please ensure that the machine hosting the RAP Agent meets the requirements prior to installation.

* The machine or VM must be running one of the following 2 operating systems:
  * Windows 7 / Server 2008 R2 or later
  * Red Hat 6 or later \(or compatible distribution\)
* The latest version of the Amazon Corretto JDK must be installed on the destination machine.  If that is not yet installed on the destination machine, navigate to the site linked [here](https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html) and download and install the JDK that is compatible with the target architecture and OS of the machine that the Agent will be installed on.  Alternatively, if Oracle JDK 8 is already installed, that will be sufficient as well.
* Since the RAP Agent initiates all its own connections, outbound connections to various cloud resources on the public Internet are required.  If a firewall is limiting outbound internet access, the following resources should be allowed through the firewall \(exact domain names will vary by environment\)
  * AWS S3 / Azure Data Lake Storage for file landing area via HTTPS \(port 443\)
  * RAP API endpoint via HTTPS \(port 443\)
  * Auth0 via HTTPS \(port 443\): &lt;xxx&gt;.auth0.com
* File and database sources that will be accessed through the RAP Agent must be accessible from the machine the RAP Agent is being installed on.  In the case of database sources, many clients install the RAP Agent software directly on the database server.  However, network connectivity from the machine that the Agent software is being installed on is all that is required.  Note that the RAP Agent will be performing data pulls and uploading to AWS / Azure, so the recommendation is to not segment off the Agent machine from the sources being accessed in a way that traffic needs to cross a limited capacity network segment.
* The user account intended for RAP on source databases need to be set up with native database engine authentication.  In the case of SQL Server, Windows / Azure AD authentication is not supported for the RAP user and only SQL Server authentication can be used.
  * Mixed-mode authentication can still be enabled to allow for integrated authentication for non-RAP related loads.

### Setting up a New Agent Code

Prior to adding a new Agent, the Agent code should be set up in the Postgres database.

TODO - add query here, show how to get agent\_parameters set correctly

### Obtaining the RAP Agent

The RAP Agent installation build contains information about which environment to connect to, as well as is authorized to connect to only the specific environment it is configured for.  Therefore, the correct build must be generated by the RAP development team.  They will provide the link to use for the correct build needed.

### Installing the RAP Agent \(Windows\)

TODO - copy/paste from existing Word doc

### Installing the RAP Agent \(Linux\)

TODO - copy/paste from existing Word doc

