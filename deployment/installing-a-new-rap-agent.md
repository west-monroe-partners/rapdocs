---
description: Getting a new Agent installed to connect to a new on-premise data source.
---

# Installing a New Intellio Agent \(On Premise\)

## Prerequisites

Prior to installing the Intellio Agent, the following requirements must be met.  Please ensure that the machine hosting the RAP Agent meets the requirements prior to installation.

* The machine or VM must be running one of the following 2 operating systems:
  * Windows 7 / Server 2008 R2 or later
  * Red Hat 6 or later \(or compatible distribution\)
* The latest version of the Amazon Corretto JDK 8 should preferably be installed on the destination machine. Alternatively, if Oracle JDK 8 is already installed, that will be sufficient as well.  
  * If neither is installed on the destination machine, navigate to the site linked [here](https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html) and download and install the Corretto JDK that is compatible with the target architecture and OS of the machine that the Agent will be installed on.
* Since the Intellio Agent initiates all its own connections, outbound connections to various cloud resources on the public Internet are required. 
  *  If a firewall is limiting outbound internet access, the following resources should be allowed through the firewall \(exact domain names will vary by environment\). 
    * AWS S3 / Azure Data Lake Storage via HTTPS \(port 443\) for the following locations
      * Landing area
      * Intellio Agent update area
    * Intellio API endpoint via HTTPS \(port 443\)
    * Auth0 via HTTPS \(port 443\)
  *  Note that these are all secure endpoints, so if SSL inspection is enabled at the firewall, special consideration is needed to ensure that the certificate presented to the machine hosting the Intellio Agent is trusted.
* File and database sources that will be accessed through the Intellio Agent must be accessible from the machine the Intellio Agent is being installed on.  
  * In the case of database sources, many customers install the Intellio Agent software directly on the database server.  However, network connectivity from the machine that the Agent software is being installed on is all that is required.  
  * Note that the Intellio Agent will be performing data pulls and uploading to AWS / Azure, so the recommendation is to not segment off the Agent machine from the sources being accessed in a way that traffic needs to cross a limited capacity network segment to reach those sources.
* The user account intended for Intellio on source databases need to be set up with native database engine authentication.  
  * In the case of SQL Server, Windows / Azure AD authentication is not supported for the Intellio user and only SQL Server authentication can be used.
  * Mixed-mode authentication can still be enabled to allow for integrated authentication for non-Intellio related loads.

## Obtaining the Intellio Agent

The correct build/installer must be generated by the Intellio development team.  They will provide the link to use for the build/installer needed.

## Installing the agent for an Azure based environment

Running the Intellio agent for an Azure based environment will require setting a number of system environment variables on the machine where the agent will run. In future state, a downloadable configuration file will be available instead of environment variables.The variables are as follows:

* agentCode
* apiUrlList
* auth0ClientId
* auth0Domain
* AZURE\_CLIENT\_ID
* AZURE\_CLIENT\_SECRET
* AZURE\_TENANT\_ID
* client
* cloud
* RAP\_environment

With the exception of the agent code, these values should be set to match the environment variables that are used in your environment's Cloud Agent Container. These values can be found by navigating to the environment resource group, clicking the _&lt;environment&gt;-Agent-&lt;Client&gt;_ container instance, clicking Containers in the left-side menu, and then clicking properties in the main window. The environment variables are then listed at the bottom of the page.

Users should then navigate to the system environment variables on the machine that will run the agent, and create each of the variables, setting their values according to the values found inthe steps above. After copying these values, the agentCode variable should be set to a name that is distinct and indicative of the agent's purpose. i.e. SQLServerAgent, ServerFileSystemAgent.

After doing this, open the RAP UI and navigate to the Agent page. Click the New button in the top right corner. On the screen that appears, enter the value you used for the agentCode as the Name and Code and fill out the description as you see fit. The region, machine GUID, and S3LandingPath parameters should be populated with a value of _N/A._ Click save in the bottom right corner.

After doing this, the Microsoft Installer that was sent to you by WMP can be run on the machine where the agent will run. Simple double click the installer to launch it. Click next and accept the terms of the agreement. Next, enter the same agentCode value into the first box that appears. The 2nd box can be used to set the maximum memory usage of the agent. We recommend keeping the defaulted value to ensure application stability. The configuration key can be left blank. 

Click Next, Click Typical, and Click Install. The agent will install and then press Finish. The install is now complete. 

